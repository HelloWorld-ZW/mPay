<!--
  Generated template for the HistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Transaction List</ion-title>
  </ion-navbar>


  <ion-toolbar no-border-top>
    <ion-searchbar></ion-searchbar>
  </ion-toolbar>
</ion-header>


<ion-content>

  <ion-item-group *ngFor="let group of groupedHistory">

    <ion-item-divider color="neutralLight2">{{group.date}}</ion-item-divider>
    <ion-item *ngFor="let aTrans of group.transHistory" (click)="viewHistory(aTrans)">
      <ion-avatar item-start>
        <img src="https://gordon-beeming.gallerycdn.vsassets.io/extensions/gordon-beeming/github/0.10.0/1474455219937/img/logo.png">
      </ion-avatar>
      <h2>{{aTrans.receiver}}</h2>
      <p>{{aTrans.type}}</p>
      <p item-end>{{aTrans.amount| currency:'EUR'}}
        <br>{{aTrans.datetime| date:'dd/MM/yyyy HH:MM'}}</p>
    </ion-item>

  </ion-item-group>

  <ion-infinite-scroll (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>